<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <title>Cadastro</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="container">
        <h1>CADASTRO</h1>
        <div class="tabs">
            <button>Volunt√°rio</button>
            <button>Empresa</button>
            <button>ONGs</button>
        </div>
        <form>
            <div class="inputbox">
                <input type="text" value="" id="username" required>
                <span>username</span>
            </div>
            <div class="inputbox">
                <input type="email" value="" id="email" required>
                <span>E-mail</span>
            </div>
            <div class="inputbox">
                <input type="text" value="" id="phone" required>
                <span>Phone Number</span>
            </div>
            <input type="submit" value="submit" class="sub" id="submit">
        </form>
    </div>
</body>

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
    import { getDatabase, ref, set, get } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-database.js";  
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-analytics.js";

    const firebaseConfig = {
        apiKey: "AIzaSyDjtiCAE_-0Um8X2bexWNkZaJ1jc9Fh7Ho",
        authDomain: "ongs-1183f.firebaseapp.com",
        projectId: "ongs-1183f",
        storageBucket: "ongs-1183f.firebasestorage.app",
        messagingSenderId: "313989285129",
        appId: "1:313989285129:web:9ab16fb812773951d77fd8",
        measurementId: "G-XT4TM2F181"
    };

    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);

    const db = getDatabase(app);

    document.querySelector('form').addEventListener('submit', function (e) {
        e.preventDefault(); 
        set(ref(db, 'user/' + document.getElementById("username").value), {
            username: document.getElementById("username").value,
            email: document.getElementById("email").value,
            PhoneNumber: document.getElementById("phone").value
        })
        .then(() => {
            alert("Cadastro realizado com sucesso!");
        })
        .catch((error) => {
            alert("Erro ao cadastrar: " + error.message);
        });
    });
</script>

</html>